# Yandex 360 User Export

Экспорт пользователей из организации Яндекс 360 в CSV для последующей миграции в другую организацию.

> ВНИМАНИЕ! Данный скрипт не являются официальными и предоставляются как пример работы с API Яндекс 360 

### Подготовка и запуск

1.	Подготовить `OAuth токен` приложения для выгрузки списка пользователей.
    1. [Создание OAuth-приложения и получение токена](https://yandex.ru/dev/api360/doc/ru/access)
    2.	Необходимо выпустить токен с правами:
        ```
        directory:read_users
        ```
2.	Загрузить этот проект со скриптом
3.	Создать в корне проекта файл `.env` содержащий:
    ```
    TOKEN=oauth_токен_приложения_из_п1
    ORG_ID=идентификатор_организации_яндекс360
    ```
4.	Установить зависимости: `pip install -r requirements.txt`
5.	Запустить скрипт, который выгружает пользователей организации
    1.	`python yandex_360_export.py`
    2.	Список пользователей организации будет сохранен в файл `users_migration.csv`

### Результат работы скрипта

В результате работы скрипта будет получен файл `users_migration.csv`. Если такой файл уже существует, он будет перезаписан.


## Возможности

- Выгружает всех сотрудников вашей организации в CSV-файл по заданному формату.
- Формирует столбцы:
  - login
  - password (генерируется временный случайный)
  - password_change_required
  - first_name
  - last_name
  - middle_name
  - position
  - gender
  - birthday
  - language
  - phone

## Быстрый старт

### 1. Клонируйте репозиторий и установите зависимости

```bash
git clone https://github.com/yourname/yandex-360-export.git
cd yandex-360-export
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt